<?xml version="1.0" encoding="UTF-8"?>

<project name="crypto1.3" default="build" basedir=".">

    <property name="build.dir" value="build" />
    <property name="jdk.name" value="jdk1.3" />
    <property name="src.dir" value="${build.dir}/${jdk.name}" />
    <property name="artifacts.dir" value="${build.dir}/artifacts/${jdk.name}" />
    <property name="target.prefix" value="jdk13" />

    <target name="init">
        <mkdir dir="${src.dir}" />
        <mkdir dir="${artifacts.dir}" />
        <mkdir dir="${artifacts.dir}/reports" />
        <mkdir dir="${artifacts.dir}/reports/xml" />
        <mkdir dir="${artifacts.dir}/reports/html" />
        <mkdir dir="${artifacts.dir}/jars" />
        <mkdir dir="${artifacts.dir}/checkstyle" />
        <copy todir="${src.dir}">
            <fileset dir="src">
                <exclude name="**/ECPointUtil.java" />
                <exclude name="**/ECNamedCurveSpec.java" />
                <exclude name="**/BCEC*.java" />
                <exclude name="**/JCEEC5*.java" />
            </fileset>
            <fileset dir="test/src">
                <exclude name="**/ECDSA5Test.java" />
                <exclude name="**/NamedCurveTest.java" />
                <exclude name="**/nist/NistCertPathTest.java" />
            </fileset>
            <fileset dir="test/src" includes="**/*.html" />
            <fileset dir="test/src" includes="**/*.pem" />
        </copy>
        <copy todir="${src.dir}" overwrite="true">
            <fileset dir="jdk1.4" includes="**/*.java" />
            <fileset dir="test/jdk1.4" includes="**/*.java" />
        </copy>
        <copy todir="${src.dir}" overwrite="true">
            <fileset dir="jdk1.3" includes="**/*.java" />
            <fileset dir="test/jdk1.3" includes="**/*.java" />
        </copy>
    </target>

    <target name="build" depends="init">
        <ant antfile="bc-build.xml" dir="." />
        <ant antfile="bc-build.xml" dir="." target="javadoc-libraries" />
    </target>

    <target name="build-lw" depends="init">
        <ant antfile="bc-build.xml" dir="." target="build-lw" />
    </target>

    <target name="build-provider" depends="init">
        <ant antfile="bc-build.xml" dir="." target="build-provider" />
        <ant antfile="bc-build.xml" dir="." target="javadoc-provider" />
    </target>

    <target name="build-test" depends="init">
        <ant antfile="bc-build.xml" dir="." target="build-test" />
    </target>

    <target name="test" depends="build-test">
        <ant antfile="bc-build.xml" dir="." target="test" />
    </target>

</project>
